<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .box1{
            position: relative;
            width: 100px;
            height: 100px;
            background-color:pink;
            top: 0;
            left: 0;

        }
    </style>
</head>
<body>
    <button class="btn1">点击开始移动 </button>
    <button class="btn2">后退</button>
    <div class="box1">

    </div>
    <div class="box2">

    </div>
    <script>
        // 分析：获取盒子到边框的距离，让盒子到边框距离产生变化
        // 速度越来越慢，减少步长
        
        function animat(obj,tager,callback){
            obj.timer = setInterval(function(){
            // 当移动到指定距离时停止移动
            // 通过指定步长的话，就不能指定位置停止了
            // 均速动画意思就是指定速度进行移动
            // 缓动就是盒子当前位置 + 变化值（(目标值-现在的位置)/10）
            var bc = (tager - obj.offsetLeft) / 10;
            bc = bc > 0 ?  Math.ceil(bc):Math.floor(bc);
            if( obj.offsetLeft == tager ){
                clearInterval(obj.timer);
                if(callback){
                    callback();
                }
            }else{
                box1.style.left = box1.offsetLeft + bc + 'px';
            }
        },15);
        }
        var box1 = document.querySelector(".box1");
        var btn1 = document.querySelector('.btn1');
        var btn2 = document.querySelector('.btn2');
        // 点击事件触发函数
        btn1.addEventListener('click',function(){
            animat(box1,200,function(){
                box1.style.backgroundColor = 'red';
                // alert('移动结束了');
            });
        })
        btn2.addEventListener('click',function(){
            console.log('1');
            
            animat(box1,400,function(){
                box1.style.backgroundColor = '#ccc';
                // alert('移动结束了');
            });
        })
        
        
        


    </script>
</body>
</html>